<h1>勉強会を検索する</h1>

<div class="row">
  <%= search_form_for @search do |f| %>
  <%= f.search_field :title_cont, placeholder: "例：Ruby Rails Vue.js 英語　などなど", class: "col s10"  %>
  <%= f.submit "検索", class: "btn waves-effect waves-light col s1", data: { disable_with: "送信中..." }  %>
  <%= link_to 'クリア', request.path, class: "btn waves-effect waves-light col s1", data: { disable_with: "送信中..." } %>
  <% end %>
</div>

<br />
<a class='dropdown-trigger btn' href='#' data-target='dropdown1'>ソートする</a>

<ul id='dropdown1' class='dropdown-content'>
  <li><%= sort_link(@search, :title,  [:title, 'created_at desc'], "タイトルで並び替える", hide_indicator: true) %></li>
  <li><%= sort_link(@search, :content,  [:content, 'created_at desc'], "内容で並び替える", hide_indicator: true) %></li>
  <li><%= sort_link(@search, :event_at,  [:event_at, 'created_at desc'], "開催日順で並び替える", hide_indicator: true) %></li>
</ul>

<div class="row flex">
<% @events.each do |event| %>
  <div class="col s12 m6 l4">
    <div class="card">
      <div class="card-image">
        <%= event.image.attached? ? image_tag(event.image_resize) : image_tag(Event.find_test_event.image_resize)  %>
      </div>
      <div class="card-content">
        <%= link_to event.title, event, class: "event-title" %>
        <%= render 'favorite_link', event: event if user_signed_in? %>
      </div>
    </div>
  </div>
<% end %>
</div>

<%= paginate @events %>
<%= page_entries_info @events %>
